# Пттерны проектирования

---

Синглтон - Гарантирует создания не более одного экземпляра

- Для подключения к БД
    ![](_attachments/f19eec00ce9a5fad33b4e5a2b83b4320.png)

---

Легковес

---

Команда

---

Наблюдатель

---

Прототип

---

Стратегия

---

https://refactoring.guru/ru/design-patterns/catalog

# Композиции и Агрегация

## Композиции

В композиции один из классов состоит из одного или нескольких экземпляров других классов.
То есть у нас есть жёсткая связь с другими классами, которая заложена изначально.

```python
# Композиция

class File:
	def __init__(self, file_name: str):
		self.__file_name = file_name

	def write(self, data):
		print(f'Данные записаны в файл {data}')


class View:
	def __init__(self):
		self.__Model = Model()

	def show(self):
		print("Отрисовка данных")

	def save(self, data):
		print("Save")
		self.__Model.handler_write_to_file(data)


class Model:
	def __init__(self):
		self.__File = File("/home/document/save_file.txt")

	def handler_write_to_file(self, data):
		print("handler_write_to_file")
		self.__File.write(data)


if __name__ == '__main__':
	main_ = View()
	main_.save("Тест")
	"""
	Save
	handler_write_to_file
	Данные записаны в файл Тест
	"""

```

## Агрегация

Агрегация - это слабая форма композиции. То есть мы определяем связи классов из вне, а потом уже передаем их в качестве параметров. В этом случае

```python
# Агрегация

class File:
	def __init__(self, file_name: str):
		self.__file_name = file_name

	def write(self, data):
		print(f'Данные записаны в файл {data}')


class View:
	def __init__(self, logic_model):
		self.__Model = logic_model

	def show(self):
		print("Отрисовка данных")

	def save(self, data):
		print("Save")
		self.__Model.handler_write_to_file(data)


class Model:
	def __init__(self, logic_file):
		self.__File = logic_file

	def handler_write_to_file(self, data):
		print("handler_write_to_file")
		self.__File.write(data)


if __name__ == '__main__':
	logic_file = File("/home/document/save_file.txt")
	logic_model = Model(logic_file)

	main_ = View(logic_model)

	main_.save("Тест")
	"""
	Save
	handler_write_to_file
	Данные записаны в файл Тест
	"""

```

---

[Управление памятью](https://rushter.com/blog/python-memory-managment/)

[Сборщик мусора и GIL](https://rushter.com/blog/python-garbage-collector/)

---

Чтобы не потерять данные из бд
[Транзакции в Django]()

---

Виды свободных лицензий

- `BSD`
- `GNU/GPL`
- `Apache`


![](_attachments/Pasted%20image%2020211003232926.png)

[Все свободные лицензии](https://opensource.org/licenses/alphabetical)

---
